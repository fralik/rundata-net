/*
    jQuery autoComplete v1.0.7-fralik.2
    Copyright (c) 2014 Simon Steinberger / Pixabay
              (c) 2018 Vadim Frolov
    License: http://www.opensource.org/licenses/mit-license.php
    @preserve (for uglifyjs)
*/
!function($){$.fn.autoComplete=function(options){var o=$.extend({},$.fn.autoComplete.defaults,options);return"string"==typeof options?(this.each(function(){var that=$(this);"destroy"==options&&(that.clusterize.destroy(!0),$(window).off("resize.autocomplete",that.updateSC),that.off("blur.autocomplete focus.autocomplete keydown.autocomplete keyup.autocomplete"),that.data("autocomplete")?that.attr("autocomplete",that.data("autocomplete")):that.removeAttr("autocomplete"),$(that.data("sc")).remove(),that.removeData("sc").removeData("autocomplete"))}),this):this.each(function(){var that=$(this);function suggest(data,val){if((that.cache[val]=data).length){if(val===that.val()&&that.is(":focus")&&!that.submitting){for(var s=[],i=0;i<data.length;i++)s.push(o.renderItem(data[i],val));that.clusterize.update(s),that.updateSC(0)}}else that.sc.hide()}that.contentId=o.id||"autocomplete-cont-"+Math.random().toString(36).substring(2,7),that.sc=$('<div id="'+that.contentId+'" class="autocomplete-suggestions '+o.menuClass+'"></div>'),that.data("sc",that.sc).data("autocomplete",that.attr("autocomplete")),that.attr("autocomplete","off"),that.cache={},that.last_val="",that.submitting=!1,that.updateSC=function(resize,next){if(o.attachToParent?that.sc.css({width:that.outerWidth(),top:2-that.sc.outerHeight()}):that.sc.css({width:that.outerWidth(),top:that.offset().top-that.sc.outerHeight(),left:that.offset().left}),!resize&&(that.sc.show(),that.sc.maxHeight||(that.sc.maxHeight=parseInt(that.sc.css("max-height"))),that.sc.suggestionHeight||(that.sc.suggestionHeight=$(".autocomplete-suggestion",that.sc).first().outerHeight()),that.sc.suggestionHeight))if(next){var scrTop=that.sc.scrollTop(),selTop=next.offset().top-that.sc.offset().top;0<selTop+that.sc.suggestionHeight-that.sc.maxHeight?that.sc.scrollTop(selTop+that.sc.suggestionHeight+scrTop-that.sc.maxHeight):selTop<0&&that.sc.scrollTop(selTop+scrTop)}else that.sc.scrollTop(0);that.clusterize.refresh()},$(window).on("resize.autocomplete",that.updateSC),o.attachToParent?that.sc.appendTo(that.parent()):(that.sc.appendTo("body"),that.attachedToBody=!0),that.clusterize=new Clusterize({scrollElem:that.sc[0],contentElem:that.sc[0]}),that.sc.on("mouseleave",".autocomplete-suggestion",function(){$(".autocomplete-suggestion.selected").removeClass("selected")}),that.sc.on("mouseenter",".autocomplete-suggestion",function(){$(".autocomplete-suggestion.selected").removeClass("selected"),$(this).addClass("selected")}),that.sc.on("mousedown click",".autocomplete-suggestion",function(e){var item=$(this),v=item.attr("data-val");return(v||item.hasClass("autocomplete-suggestion"))&&(that.val(v),that.change(),o.onSelect(e,v,item),that.sc.hide()),!1}),that.on("blur.autocomplete",function(){try{over_sb=$(".autocomplete-suggestions:hover").length}catch(e){over_sb=0}over_sb?that.is(":focus")||setTimeout(function(){that.focus()},20):(that.last_val=that.val(),that.sc.hide(),setTimeout(function(){that.sc.hide()},350))}),o.minChars||that.on("focus.autocomplete",function(){that.last_val="\n",that.trigger("keyup.autocomplete")}),that.on("keydown.autocomplete",function(e){var next;if(that.submitting=!1,(40==e.which||38==e.which)&&that.sc.html())return(sel=$(".autocomplete-suggestion.selected",that.sc)).length?(next=40==e.which?sel.next(".autocomplete-suggestion"):sel.prev(".autocomplete-suggestion")).length?(sel.removeClass("selected"),next.addClass("selected")):(sel.removeClass("selected"),next=0):(next=40==e.which?$(".autocomplete-suggestion",that.sc).first():$(".autocomplete-suggestion",that.sc).last()).addClass("selected"),o.liveValue&&that.val(next?next.attr("data-val"):that.last_val),that.updateSC(0,next),!1;if(27==e.which){var sel=$(".autocomplete-suggestion.selected",that.sc);if(that.sc.is(":visible"))return sel.length&&that.val(that.last_val),that.sc.hide(),!1}else if(13==e.which||9==e.which){var v=(sel=$(".autocomplete-suggestion.selected",that.sc)).attr("data-val");if(that.sc.is(":visible")&&(sel.length&&(that.val(v),o.onSelect(e,v,sel)),that.sc.hide(),sel.length)){if(13==e.which&&!o.propagateEnter)return!1;if(9==e.which&&!o.propagateTab)return!1}13==e.which&&(that.submitting=!0)}}),that.on("keyup.autocomplete",function(e){if(!~$.inArray(e.which,[13,27,35,36,37,38,39,40])){var val=that.val();if(val.length>=o.minChars){if(val!=that.last_val){if(that.last_val=val,clearTimeout(that.timer),o.cache){if(val in that.cache)return void suggest(that.cache[val],val);for(var i=1;i<val.length-o.minChars;i++){var part=val.slice(0,val.length-i);if(part in that.cache&&!that.cache[part].length)return void suggest([],val)}}that.timer=setTimeout(function(){o.source(val,function(data){suggest(data,val)},o.delay)})}}else that.last_val=val,that.sc.hide()}})})},$.fn.autoComplete.defaults={source:0,minChars:3,delay:150,cache:1,liveValue:1,propagateTab:1,propagateEnter:1,menuClass:"",id:"",attachToParent:!1,renderItem:function(item,search){search=search.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var re=new RegExp("("+search.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+item+'">'+item.replace(re,"<b>$1</b>")+"</div>"},onSelect:function(e,term,item){}}}(jQuery);